#%RAML 1.0
title: customer-xpapi-raml
description: This api is used by frontend system to interact with custormer related API.
version: 1.0.0
traits:
  common-header: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/traits/header-common-trait.raml
  authorization: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/traits/header-jwt-authorization-trait.raml
types:
  error-datatype: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/dataTypes/error-dataType.raml
  post-registration-datatype: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/dataTypes/post-registration-request-dataType.raml
  post-registartion-response-datatype: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/dataTypes/post-registration-response-dataType.raml
  post-customerState-request-datatype: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/dataTypes/post-customerState-request-dataType.raml
  post-customerState-response-datatype: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/dataTypes/post-customerState-response-dataType.raml

/customers: 
  /registration:
    post:
      is:
        - common-header
      queryParameters:
        featureName:
          type: string
          required: true
          enum:
            - cf
            - cfw
          example:
            cf
      body:
        application/json:
          type: post-registration-datatype
          example: !include /examples/post-registration-request-example.json
      responses:
        201:
          body:
            application/json:
              example: !include /examples/post-registration-response -example.json
        400:
          body:
            application/json:
              type: error-datatype
              example: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/examples/error-400-response-example.json
        401:
          body:
            application/json:
              example: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/examples/error-401-response-example.json
        404:
          body:
            application/json:
              example: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/examples/error-404-response-example.json
        500:
          body:
            application/json:
              example: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/examples/error-500-response-example.json

/customerState:
  post: 
    is:
      - common-header
    queryParameters:
      featureName:
        type: string
        required: true
        enum:
          - cf
          - cfw
        example:
          cf
    body:
      application/json:
        type: post-customerState-request-datatype
        example: !include /examples/post-customerState-request-example.json
    responses:
      201:
        body:
          application/json:
            type: post-customerState-response-datatype
            example: !include /examples/post-customerState-response-example.json
      400:
        body:
          application/json:
            type: error-datatype
            example: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/examples/error-400-response-example.json
      401:
        body:
          application/json:
            example: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/examples/error-401-response-example.json
      404:
        body:
          application/json:
            example: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/examples/error-404-response-example.json
      500:
        body:
          application/json:
            example: !include /exchange_modules/31beff97-c9ac-4e25-8083-c5843572e7d5/common-fragments/1.0.6/examples/error-500-response-example.json
                
                
      
