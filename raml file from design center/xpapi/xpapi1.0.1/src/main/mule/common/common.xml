<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<sub-flow name="error-details-data" doc:id="2fa0d61b-a82f-4e49-b7ca-5c9e1c4fc6f3" >
		<ee:transform doc:name="Transform Message for Error request" doc:id="20e22b84-4a75-431d-b271-74d3c83ca759">
				<ee:message>
					<ee:set-payload><![CDATA[{
  "msg": "suceessful operation",
  "code": vars.code,
  "success": true,
  "eventId": "ANFJ-23NMN-DNM224-BJDJK3",
  "error": {
    "type": vars.'type',
    "title": vars.title,
    "details": vars.details
  }
}]]></ee:set-payload>
				</ee:message>
				<ee:variables>
				</ee:variables>
			</ee:transform>
		<ee:transform doc:name="Transform Message" doc:id="d9cf0346-ea6d-4ed0-b5f9-d6f2bf10a009" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
payload]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</sub-flow>
	<sub-flow name="customer-variable-initialize" doc:id="f03abc29-61f9-41de-a9ae-fd6cd5c90769" >
		<ee:transform doc:name="Transform Message to initialize variables" doc:id="cf65eb9f-b704-4b1c-b993-07b82a0b6c91">
			<ee:message>
				<ee:set-payload><![CDATA[payload default ""]]></ee:set-payload>
			</ee:message>
			<ee:variables>
				<ee:set-variable variableName="headers"><![CDATA[attributes.headers default ""]]></ee:set-variable>
				<ee:set-variable variableName="queryparams"><![CDATA[attributes.queryParams default ""]]></ee:set-variable>
				<ee:set-variable variableName="uriparams"><![CDATA[attributes.uriParams default ""]]></ee:set-variable>
				<ee:set-variable variableName="requestpayload"><![CDATA[payload]]></ee:set-variable>				
				
			</ee:variables>
		</ee:transform>
	</sub-flow>
</mule>
